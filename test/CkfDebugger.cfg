process Building  = 
{
    ### keep the logging output to a nice level ###
    include "FWCore/MessageService/data/MessageLogger.cfi"
    
    source = PoolSource { 
	untracked vstring fileNames = {'rfio:/castor/cern.ch/user/c/cerati/data130pre5/seeds.root'}
	untracked int32 maxEvents = -1
	untracked uint32 debugVerbosity = 10
	untracked bool   debugFlag     = true
    }
    
    # CKFTrackCandidateMaker
    include "RecoTracker/CkfPattern/data/CkfTrackCandidates.cff"

    es_module CkfDebugTrajectoryBuilder = CkfDebugTrajectoryBuilderESProducer
    {
	string ComponentName = "CkfDebugTrajectoryBuilder"
	
	double ptCut                = 0.9
	int32  maxNumberOfHits      = -1
	int32  maxCand              = 5
	int32  maxLostHit           = 1       
	int32  maxConsecLostHit     = 1
	double lostHitPenalty       = 30.
	bool   intermediateCleaning = true
	int32  minimumNumberOfHits  = 5
	bool   alwaysUseInvalidHits = true
	
	string TTRHBuilder          = "WithTrackAngle"
	string propagatorAlong      = "PropagatorWithMaterial"
	string propagatorOpposite   = "PropagatorWithMaterialOpposite"
	string updator              = "KFUpdator"
	string estimator            = "Chi2"
    
    }
    module ckfDebugTrackCandidates = CkfDebugTrackCandidateMaker
    {     
	#bool   seedCleaning         = false
	string SeedProducer          = "globalMixedSeeds"
	string SeedLabel             = ""
	string TrajectoryBuilder    = "CkfDebugTrajectoryBuilder"
        string RedundantSeedCleaner  = "CachingSeedCleanerBySharedInput"	
	
	# nested parameter set for TransientInitialStateEstimator
	PSet TransientInitialStateEstimatorParameters =
	{
	    string propagatorAlongTISE    = "PropagatorWithMaterial"
	    string propagatorOppositeTISE = "PropagatorWithMaterialOpposite"
	} 
    
    }
    
    module out = PoolOutputModule {
        untracked string fileName = 'SeedToTrackCandidatesDefaultCut.root'
    }

    path p = {ckfDebugTrackCandidates}
    endpath outpath = { out }
}
