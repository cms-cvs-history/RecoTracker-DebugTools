process TrackAlgoCompare =
{
  include "FWCore/MessageService/data/MessageLogger.cfi"

  # load input file
  source = PoolSource
    {
	### RelVal200pre8 sample
        untracked vstring fileNames =    {'/store/relval/2008/3/31/RelVal-RelValBJets_Pt_50_120-1206883569-HLT/0000/0A397031-38FF-DC11-85A4-001A92971B8A.root'}
    }


  # Track Associators
  include "SimTracker/TrackAssociation/data/TrackAssociatorByHits.cfi"
  include "SimTracker/TrackAssociation/data/TrackAssociatorByChi2.cfi"

  # Include MagneticField Record (note: you must have this module included for the association to work)
  include "MagneticField/Engine/data/volumeBasedMagneticField.cfi"
	
  include "RecoTracker/DebugTools/data/TrackAlgoCompareUtil.cfi"
  replace trackAlgoCompare.trackLabel_algoB = secStep 

  module out = PoolOutputModule
    {
      untracked string fileName = "TrackAlgoCompareOutput.root"
      untracked vstring outputCommands =
        {
            "drop *_*_*_*",
            "keep recoTracks_generalTracks_*_*",
            "keep recoTracks_rsWithMaterialTracks_*_*",
	    "keep recoTracks_secStep_*_*",
            #"keep recoTrackExtras_generalTracks_*_*",
            #"keep recoTrackExtrass_rsWithMaterialTracks_*_*",
            "keep recoVertexs_offlinePrimaryVertices_*_*",
            "keep recoVertexs_offlinePrimaryVerticesFromCTFTracks_*_*",
            #"keep recoVertexs_offlinePrimaryVerticesFromRSTracks_*_*",
            "keep TrackingParticles_mergedtruth_*_*",
            "keep TrackingVertexs_mergedtruth_*_*",
            "keep recoBeamSpot_offlineBeamSpot_*_",
            #"keep recoGenParticles_genParticles_*_*",
            "keep *_*_*_TrackAlgoCompare"
        }
    }

    untracked PSet maxEvents = {untracked int32 input = 250 }
    #path p = {cutsAlgoA, cutsAlgoB, cutsTPEffic, cutsTPFake, producer }
    #path p = { cutsTPEffic, cutsTPFake, producer }
    path p = { trackAlgoCompare }
    endpath e = { out }

    schedule = { p, e }

}
