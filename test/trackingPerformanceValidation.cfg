process TkVal = 
{
  untracked PSet maxEvents = {untracked int32 input = 2000}

  include "Configuration/StandardSequences/data/Reconstruction.cff"
  include "Configuration/StandardSequences/data/FakeConditions.cff"	
  include "Configuration/StandardSequences/data/Simulation.cff"
  include "Configuration/StandardSequences/data/MixingNoPileUp.cff" 

  ### for the validator 
  # Track Associators
  include "SimTracker/TrackAssociation/data/TrackAssociatorByChi2.cfi"
  include "SimTracker/TrackAssociation/data/TrackAssociatorByHits.cfi"

  include "Validation/RecoTrack/data/cuts.cff"
  include "Validation/RecoTrack/data/MultiTrackValidator.cff"
  #replace multiTrackValidator.associators = {"TrackAssociatorByHits"}



  source = PoolSource 
  { 
    untracked vstring fileNames = {'file:input.root'}
    untracked uint32 debugVebosity = 10
    untracked bool   debugFlag     = true
  }


  ##############################
  #include "RecoTracker/DebugTools/test/sampleTT.cff"
  include "RecoTracker/DebugTools/test/sampleBB.cff"
  replace multiTrackValidator.out = "tkVal.BB.root"	
  #replace multiTrackValidator.out = "tkVal.NoCuts.root" 
  replace multiTrackValidator.label = {cutsCKF}
  #replace cutsCKF.ptMin = 0
  #replace cutsCKF.minRapidity = -99999
  #replace cutsCKF.maxRapidity = 99999
  #replace cutsCKF.lip = 999
  #replace cutsCKF.tip = 999
  #replace cutsCKF.minHit = 0
  ###############################


  module out = PoolOutputModule 
  {
    untracked string fileName = 'digis.root'
    untracked vstring outputCommands = 
      {
        "drop *"
      }
  }      

                        
  path p = 
  {
   cutsCKF,cutsTPEffic,cutsTPFake,
   multiTrackValidator
 }

#  endpath e = 
#  {
#    out
#  }
}
